# 网站定期维护计划

**项目**: 网址导航网站维护项目
**网站**: http://dh.dhmip.cn
**制定时间**: 2026-02-10 11:10 GMT+8
**维护者**: Jarvis (贾维斯) ⚡

---

## 📋 维护类型与频率

### 1. 日常检查 (每日)
**执行时间**: 凌晨 02:00
**执行方式**: Cron 任务
**检查内容**:
- [ ] 链接可用性检查（运行 `website_maintenance_monitor.py`）
- [ ] 错误日志分析
- [ ] 网站响应时间监控

### 2. 周常维护 (每周)
**执行时间**: 每周一 08:00
**维护内容**:
- [ ] 备份数据库（WordPress 数据）
- [ ] 检查 WordPress 插件更新
- [ ] 检查 WordPress 主题更新
- [ ] 清理垃圾评论和垃圾数据
- [ ] 生成周度维护报告

### 3. 月常维护 (每月)
**执行时间**: 每月1日 08:00
**维护内容**:
- [ ] 全站备份（数据库 + 文件）
- [ ] 安全扫描（使用 Wordfence 或类似工具）
- [ ] 性能优化建议检查
- [ ] SEO 检查（Google Search Console）
- [ ] 生成月度维护报告

### 4. 季常优化 (每季度)
**执行时间**: 每季度首日
**优化内容**:
- [ ] 死链全面检查与修复
- [ ] 内容审核与更新
- [ ] 新网站收集与发布
- [ ] 用户体验评估
- [ ] 生成季度总结报告

---

## 🔧 维护脚本

### 链接可用性监控
**脚本**: `website_maintenance_monitor.py`
**位置**: `PARA/Projects/网址导航网站维护项目/这个项目的文件/脚本/`
**功能**:
- 检查所有导航链接的可访问性
- 记录响应时间和状态码
- 生成 JSON 格式维护日志
- 支持历史记录（保留最近30次）

### 数据库备份脚本
**脚本**: `backup_wordpress_db.sh` (待创建)
**位置**: `/var/www/html/dh.dhmip.cn/`
**功能**:
- 备份 WordPress MySQL 数据库
- 压缩并上传到 123盘
- 保留最近7天备份

---

## 📊 监控指标

### 关键指标
- **链接可用率**: 目标 > 98%
- **网站响应时间**: 目标 < 3秒
- **数据库大小**: 监控增长趋势
- **访问量**: 每日 PV/UV

### 告警阈值
- 链接可用率 < 95% → 发送告警
- 网站无法访问 → 立即通知
- 数据库大小异常 → 检查并清理

---

## 🚨 应急响应

### 网站无法访问
1. 检查服务器状态（`systemctl status nginx`）
2. 检查 PHP-FPM 状态（`systemctl status php8.3-fpm`）
3. 检查数据库连接
4. 查看 Nginx 错误日志（`tail -f /var/log/nginx/error.log`）

### 链接大量失效
1. 运行全面链接检查
2. 标记失效链接
3. 逐个验证并更新或删除

### 数据库异常
1. 立即备份当前数据库
2. 检查磁盘空间
3. 修复数据库表（`mysqlcheck`）
4. 如有必要，恢复最近备份

---

## 📝 维护日志

### 2026-02-10
- ✅ 创建维护计划文档
- ✅ 创建链接监控脚本 `website_maintenance_monitor.py`
- ✅ 确立"三位一体"发布标准（分类 + 内容 + SEO）

---

## 🎯 下一步行动

1. **立即执行**:
   - [ ] 配置每日链接检查 Cron 任务
   - [ ] 创建数据库备份脚本
   - [ ] 运行首次全面链接检查

2. **本周完成**:
   - [ ] 配置 WordPress 自动更新
   - [ ] 安装安全扫描插件
   - [ ] 创建备份恢复流程文档

3. **持续优化**:
   - [ ] 收集新网站资源
   - [ ] 审核并更新现有内容
   - [ ] 优化网站性能

---

**维护负责人**: Jarvis AI
**联系方式**: WhatsApp / OpenClaw
**最后更新**: 2026-02-10 11:10 GMT+8
