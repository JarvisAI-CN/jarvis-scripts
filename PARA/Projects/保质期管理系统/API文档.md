# ä¿è´¨æœŸç®¡ç†ç³»ç»ŸAPIæ–‡æ¡£

**é¡¹ç›®åç§°**: ä¿è´¨æœŸç®¡ç†ç³»ç»Ÿ
**APIç‰ˆæœ¬**: v1
**æ–‡æ¡£çŠ¶æ€**: ğŸŸ¢ è¿›è¡Œä¸­

---

## APIæ¦‚è¿°

ä¿è´¨æœŸç®¡ç†ç³»ç»Ÿæä¾›äº†ä¸€ç³»åˆ— API æ¥å£ï¼Œå…è®¸å¼€å‘è€…ä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œå®ç°å•†å“ç®¡ç†ã€ä¿è´¨æœŸé¢„è­¦ç­‰åŠŸèƒ½ã€‚

---

## åŸºç¡€ä¿¡æ¯

### æ¥å£åœ°å€
```
http://pandian.dhmip.cn/api.php
```

### è¯·æ±‚æ ¼å¼
- **æ–¹æ³•**: POST æˆ– GET
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

### å“åº”æ ¼å¼
æ‰€æœ‰ API æ¥å£è¿”å›ä»¥ä¸‹æ ¼å¼ï¼š
```json
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {}
}
```

---

## è®¤è¯æ–¹å¼

### APIå¯†é’¥è®¤è¯
- åœ¨è¯·æ±‚ä¸­æ·»åŠ  `api_key` å‚æ•°
- å¯†é’¥å¯ä»¥é€šè¿‡ç®¡ç†åå°è·å–

ç¤ºä¾‹ï¼š
```
http://pandian.dhmip.cn/api.php?api_key=your_key
```

---

## APIæ¥å£

### 1. è·å–å•†å“åˆ—è¡¨

#### æ¥å£åœ°å€
```
GET /api.php?action=get_products
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "å•†å“åç§°",
      "barcode": "1234567890",
      "expiry_date": "2026-12-31",
      "quantity": 10,
      "category": "é£Ÿå“"
    }
  ]
}
```

---

### 2. æœç´¢å•†å“

#### æ¥å£åœ°å€
```
GET /api.php?action=search_products
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥
- `keyword`: æœç´¢å…³é”®è¯ï¼ˆå•†å“åç§°æˆ–æ¡ç ï¼‰

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "æœç´¢æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "å•†å“åç§°",
      "barcode": "1234567890",
      "expiry_date": "2026-12-31",
      "quantity": 10,
      "category": "é£Ÿå“"
    }
  ]
}
```

---

### 3. æ·»åŠ å•†å“

#### æ¥å£åœ°å€
```
POST /api.php?action=add_product
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥
- `name`: å•†å“åç§°
- `barcode`: å•†å“æ¡ç 
- `expiry_date`: ä¿è´¨æœŸ
- `quantity`: æ•°é‡
- `category`: åˆ†ç±»

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "æ·»åŠ æˆåŠŸ",
  "data": {
    "id": 1
  }
}
```

---

### 4. æ›´æ–°å•†å“

#### æ¥å£åœ°å€
```
POST /api.php?action=update_product
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥
- `id`: å•†å“ ID
- `name`: å•†å“åç§°ï¼ˆå¯é€‰ï¼‰
- `barcode`: å•†å“æ¡ç ï¼ˆå¯é€‰ï¼‰
- `expiry_date`: ä¿è´¨æœŸï¼ˆå¯é€‰ï¼‰
- `quantity`: æ•°é‡ï¼ˆå¯é€‰ï¼‰
- `category`: åˆ†ç±»ï¼ˆå¯é€‰ï¼‰

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": {}
}
```

---

### 5. åˆ é™¤å•†å“

#### æ¥å£åœ°å€
```
POST /api.php?action=delete_product
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥
- `id`: å•†å“ ID

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": {}
}
```

---

### 6. è·å–åˆ†ç±»åˆ—è¡¨

#### æ¥å£åœ°å€
```
GET /api.php?action=get_categories
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "é£Ÿå“"
    }
  ]
}
```

---

### 7. æ·»åŠ åˆ†ç±»

#### æ¥å£åœ°å€
```
POST /api.php?action=add_category
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥
- `name`: åˆ†ç±»åç§°

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "æ·»åŠ æˆåŠŸ",
  "data": {
    "id": 1
  }
}
```

---

### 8. æ›´æ–°åˆ†ç±»

#### æ¥å£åœ°å€
```
POST /api.php?action=update_category
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥
- `id`: åˆ†ç±» ID
- `name`: åˆ†ç±»åç§°

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": {}
}
```

---

### 9. åˆ é™¤åˆ†ç±»

#### æ¥å£åœ°å€
```
POST /api.php?action=delete_category
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥
- `id`: åˆ†ç±» ID

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "åˆ é™¤æˆåŠŸ",
  "data": {}
}
```

---

### 10. è·å–ä¿è´¨æœŸé¢„è­¦

#### æ¥å£åœ°å€
```
GET /api.php?action=get_expiry_warnings
```

#### è¯·æ±‚å‚æ•°
- `api_key`: API å¯†é’¥

#### è¿”å›æ•°æ®
```json
{
  "success": true,
  "message": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "name": "å•†å“åç§°",
      "expiry_date": "2026-12-31",
      "days_remaining": 10
    }
  ]
}
```

---

## é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ |
| --- | --- |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | æœªæˆæƒæˆ– API å¯†é’¥é”™è¯¯ |
| 404 | èµ„æºæœªæ‰¾åˆ° |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

## å¼€å‘è¯´æ˜

### è°ƒè¯•æ–¹æ³•
1. ä½¿ç”¨ Postman æˆ–ç±»ä¼¼å·¥å…·æµ‹è¯•æ¥å£
2. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–é”™è¯¯ä¿¡æ¯
3. æ£€æŸ¥æ•°æ®åº“è¿æ¥å’ŒæŸ¥è¯¢

### æ€§èƒ½ä¼˜åŒ–
1. å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†é¡µ
2. ä½¿ç”¨ç´¢å¼•ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
3. é¿å…åœ¨å¾ªç¯ä¸­è¿›è¡Œæ•°æ®åº“æ“ä½œ

---

## ç›¸å…³é“¾æ¥

[[ä¿è´¨æœŸç®¡ç†ç³»ç»Ÿå¼€å‘æ—¥å¿—]]
[[ä¿è´¨æœŸç®¡ç†ç³»ç»Ÿå®¡è®¡æŠ¥å‘Š]]
