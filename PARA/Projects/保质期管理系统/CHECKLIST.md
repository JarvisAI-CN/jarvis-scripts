# 版本发布强制检查单 (Audit Checklist) - v1.0

> **项目**: 保质期管理系统
> **准则**: 任何 Release 版本发布前，必须逐项核对并勾选。

---

## 1. 核心链路测试 (Core Flow)
- [ ] **登录验证**: 账号密码登录、Session 持久化、登出逻辑。
- [ ] **扫码闭环**: 扫码识别 -> 自动填充 -> 字段锁定 (老商品) -> 批次录入。
- [ ] **暂存队列**: 批量添加商品至待提交清单，队列计数准确。
- [ ] **一键提交**: 批量写入数据库，且 AI 自动按日期完成排序。
- [ ] **历史查看**: 能看到历史盘点单，详情页排序正确。

## 2. 数据库与迁移 (Database)
- [ ] **静默升级**: 检查 `autoMigrate()` 函数是否包含新增字段的 `ALTER TABLE` 逻辑。
- [ ] **兼容性检查**: SQL 语法是否分步执行 (避免 `ADD COLUMN ... INDEX` 连写导致的语法错误)。
- [ ] **初始化引导**: `install.php` 在干净环境下能成功创建库表并设置管理员。

## 3. 资源与网络 (Assets & Network)
- [ ] **CDN 连通性**: 检查 `bootstrap`, `bi-icons`, `html5-qrcode` 在国内移动端的加载速度。
- [ ] **本地回退**: 验证 `execute_upgrade` 是否具备 GitHub 失败自动切换公网 IP 节点的逻辑。
- [ ] **IP 脱敏**: 检查代码中是否误包含 `10.7.0.5` (内网) 这种无法公网访问的地址。

## 4. UI/UX 移动端适配 (Mobile)
- [ ] **全屏扫码**: 检查遮罩层显示是否正常，关闭按钮是否会被刘海屏遮挡。
- [ ] **点击区域**: 下拉框、删除图标等小元素的点击热区是否足够大。
- [ ] **反馈音效**: 扫码成功后的“叮”声在静音模式外是否正常播放。

## 5. 安全性审计 (Security)
- [ ] **权限隔离**: 验证未登录状态下 API 接口返回 `Session Expired`。
- [ ] **管理后台**: `admin.php` 的修改权限是否严格限制在管理员 Session 内。

---
**检查未通过禁止发布！** ⚡
