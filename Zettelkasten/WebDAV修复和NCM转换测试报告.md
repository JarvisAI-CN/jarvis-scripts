# WebDAVä¿®å¤å’ŒNCMè½¬æ¢æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¶é—´**: 2026-02-14 18:30
**æµ‹è¯•äºº**: è´¾ç»´æ–¯ (æ™ºè°±GLM-4.7)

---

## ğŸ”§ WebDAVä¿®å¤ç»“æœ

### âœ… ä¿®å¤æ­¥éª¤

1. **æ›´æ–°WebDAVå¯†ç **
   ```bash
   sudo bash -c 'cat > /etc/davfs2/secrets << EOF
   https://webdav.123pan.cn/webdav 13220103449 ls8h74pb
   EOF'
   ```

2. **é‡æ–°æŒ‚è½½123ç›˜**
   ```bash
   sudo mount -t davfs https://webdav.123pan.cn/webdav /home/ubuntu/123pan
   ```

3. **éªŒè¯æŒ‚è½½çŠ¶æ€**
   ```bash
   mount | grep 123pan
   ls -la /home/ubuntu/123pan/
   ```

### âœ… ä¿®å¤ç»“æœ

```
âœ… WebDAVæˆåŠŸæŒ‚è½½
âœ… å¯ä»¥è®¿é—®123ç›˜æ–‡ä»¶
âœ… å¯ä»¥çœ‹åˆ°"å…±äº«èµ„æº"ç›®å½•
âœ… NCMæ–‡ä»¶å¯è§ï¼ˆ113MBï¼‰
```

### âš ï¸  å‘ç°çš„é—®é¢˜

**é—®é¢˜1: WebDAVç›´æ¥å¤åˆ¶å¤±è´¥**
```
cp: æ— æ³•ä»¥è¯»æ¨¡å¼æ‰“å¼€ '...æ¢“æ¸ - è¤ç«æ˜Ÿçƒ.ncm': è¾“å…¥/è¾“å‡ºé”™è¯¯
```
**åŸå› **: WebDAVæŒ‚è½½ä¸ç¨³å®šï¼Œå¤§æ–‡ä»¶I/Oé”™è¯¯

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨Pythonè„šæœ¬é€šè¿‡HTTP APIä¸‹è½½

---

## ğŸ“¥ NCMæ–‡ä»¶ä¸‹è½½

### âœ… æˆåŠŸä¸‹è½½

```python
# ä½¿ç”¨webdav_download.pyä¸‹è½½
python3 /home/ubuntu/.openclaw/workspace/scripts/webdav_download.py
```

**ç»“æœ**:
- âœ… æ–‡ä»¶ä¸‹è½½æˆåŠŸ
- âœ… æ–‡ä»¶å¤§å°: 113.08 MB
- âœ… ä¿å­˜ä½ç½®: /home/ubuntu/music_test/æ¢“æ¸ - è¤ç«æ˜Ÿçƒ.ncm

---

## ğŸµ NCMæ ¼å¼è½¬æ¢æµ‹è¯•

### âŒ æµ‹è¯•å¤±è´¥

**æµ‹è¯•æ–‡ä»¶**: /home/ubuntu/music_test/æ¢“æ¸ - è¤ç«æ˜Ÿçƒ.ncm

**ä½¿ç”¨è„šæœ¬1**: `/home/ubuntu/.openclaw/workspace/PARA/Projects/NCM-to-FLACè½¬æ¢é¡¹ç›®/è¿™ä¸ªé¡¹ç›®çš„æ–‡ä»¶/è„šæœ¬/ncm_converter.py`

**é”™è¯¯**:
```
ä¸æ˜¯æœ‰æ•ˆçš„ NCM æ–‡ä»¶
è§£å¯†å¤±è´¥
```

**åŸå› **: è„šæœ¬åªæ”¯æŒCTCNé­”æœ¯å­—ï¼Œå®é™…æ–‡ä»¶æ˜¯CTENæ ¼å¼

---

**ä½¿ç”¨è„šæœ¬2**: `/home/ubuntu/.openclaw/workspace/scripts/ncm_converter_fixed.py`ï¼ˆä¿®å¤ç‰ˆï¼‰

**é”™è¯¯**:
```
æ£€æµ‹åˆ° CTEN æ ¼å¼
å…ƒæ•°æ®è§£æå¤±è´¥: 'utf-8' codec can't decode byte 0xa5 in position 2
æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼šå›¾ç‰‡æ•°æ®è¶…å‡ºæ–‡ä»¶èŒƒå›´ (image_len=3657371482)
è§£å¯†å¤±è´¥
```

**åŸå› **:
1. å…ƒæ•°æ®è§£å¯†å¤±è´¥ï¼ˆç¼–ç é—®é¢˜ï¼‰
2. æ–‡ä»¶æ ¼å¼è§£æé”™è¯¯ï¼ˆimage_lenå¼‚å¸¸å¤§ï¼‰

---

## ğŸ’¡ é—®é¢˜åˆ†æ

### NCMè½¬æ¢é¡¹ç›®å­˜åœ¨çš„é—®é¢˜

1. **æ ¼å¼æ”¯æŒä¸å®Œæ•´**
   - åªæ”¯æŒCTCNæ ¼å¼ï¼Œä¸æ”¯æŒCTENæ ¼å¼
   - ä¸¤ç§æ ¼å¼çš„è§£å¯†é€»è¾‘å¯èƒ½æœ‰å·®å¼‚

2. **è§£å¯†ç®—æ³•å¯èƒ½è¿‡æ—¶**
   - ç½‘æ˜“äº‘éŸ³ä¹å¯èƒ½æ›´æ–°äº†NCMåŠ å¯†ç®—æ³•
   - å¯†é’¥ç”Ÿæˆé€»è¾‘å¯èƒ½å˜åŒ–

3. **é”™è¯¯å¤„ç†ä¸å®Œå–„**
   - å…ƒæ•°æ®è§£æå¤±è´¥æ—¶æ²¡æœ‰é™çº§å¤„ç†
   - è¾¹ç•Œæ£€æŸ¥ä¸å®Œæ•´

4. **æµ‹è¯•ä¸è¶³**
   - é¡¹ç›®å¯èƒ½æ²¡æœ‰ç»è¿‡å……åˆ†æµ‹è¯•
   - ç¼ºå°‘çœŸå®NCMæ–‡ä»¶çš„éªŒè¯

---

## ğŸš€ å»ºè®®çš„è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: ä½¿ç”¨æˆç†Ÿçš„åœ¨çº¿å·¥å…·ï¼ˆæ¨èï¼‰

**åœ¨çº¿NCMè½¬æ¢ç½‘ç«™**:
- https://ncm.kwasu.cc/ ï¼ˆæ¨èï¼‰
- https://tools.liumingye.cn/music/
- https://gitncm.github.io/

**ä¼˜ç‚¹**:
- âœ… æ— éœ€æœ¬åœ°å®‰è£…
- âœ… æŒç»­æ›´æ–°ç»´æŠ¤
- âœ… æ”¯æŒæœ€æ–°NCMæ ¼å¼
- âœ… ç•Œé¢ç®€å•æ˜“ç”¨

**æ­¥éª¤**:
1. æ‰“å¼€æµè§ˆå™¨è®¿é—®ä¸Šè¿°ç½‘ç«™
2. ä¸Šä¼ NCMæ–‡ä»¶
3. ç­‰å¾…è½¬æ¢å®Œæˆ
4. ä¸‹è½½FLAC/MP3æ–‡ä»¶

---

### æ–¹æ¡ˆ2: ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·

**å·¥å…·**: ncm-dump
```bash
pip3 install ncm-dump pycryptodome
ncm-dump -i song.ncm -o song.flac
```

**ä¼˜ç‚¹**:
- âœ… å‘½ä»¤è¡Œæ“ä½œï¼Œæ˜“äºè‡ªåŠ¨åŒ–
- âœ… æ”¯æŒæ‰¹é‡è½¬æ¢
- âœ… æŒç»­æ›´æ–°

**ç¼ºç‚¹**:
- âš ï¸ éœ€è¦å®‰è£…Pythonä¾èµ–
- âš ï¸ å¯èƒ½ä¸æ”¯æŒæœ€æ–°NCMæ ¼å¼

---

### æ–¹æ¡ˆ3: ä¿®å¤æœ¬åœ°è½¬æ¢é¡¹ç›®

**éœ€è¦çš„æ”¹è¿›**:
1. æ”¯æŒCTENå’ŒCTCNä¸¤ç§æ ¼å¼
2. æ›´æ–°è§£å¯†ç®—æ³•ï¼ˆå¦‚æœæœ‰æ–°ç‰ˆæœ¬ï¼‰
3. æ”¹è¿›é”™è¯¯å¤„ç†å’Œé™çº§é€»è¾‘
4. æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹

**å·¥ä½œé‡**: ä¸­ç­‰åˆ°å¤§
**æˆåŠŸç‡**: ä¸ç¡®å®šï¼ˆå–å†³äºNCMåŠ å¯†ç®—æ³•ï¼‰

---

## ğŸ“Š æµ‹è¯•æ€»ç»“

### âœ… æˆåŠŸéƒ¨åˆ†
- WebDAVä¿®å¤å®Œæˆ
- NCMæ–‡ä»¶ä¸‹è½½æˆåŠŸ
- æµ‹è¯•å·¥å…·å’Œè„šæœ¬å·²åˆ›å»º

### âŒ å¤±è´¥éƒ¨åˆ†
- æœ¬åœ°NCMè½¬æ¢é¡¹ç›®æ— æ³•æ­£å¸¸å·¥ä½œ
- å…ƒæ•°æ®è§£æå¤±è´¥
- æ–‡ä»¶æ ¼å¼è§£æé”™è¯¯

### ğŸ’¡ ç»“è®º
**ç”¨æˆ·åé¦ˆæ­£ç¡®**: "æˆ‘è‡ªå·±æµ‹è¯•è¿™ä¸ªè¿˜æ˜¯ä¸èƒ½ç”¨çš„"

æœ¬åœ°NCMè½¬æ¢é¡¹ç›®ç¡®å®å­˜åœ¨é—®é¢˜ï¼Œæ— æ³•æ­£å¸¸è½¬æ¢NCMæ–‡ä»¶ã€‚

---

## ğŸ¯ æœ€ç»ˆå»ºè®®

**æ¨èä½¿ç”¨åœ¨çº¿è½¬æ¢å·¥å…·**:

1. **æœ€ç®€å•**: åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ https://ncm.kwasu.cc/
2. **ä¸Šä¼ NCMæ–‡ä»¶**ï¼ˆä»123ç›˜æˆ–æœ¬åœ°ä¸Šä¼ ï¼‰
3. **ç­‰å¾…è½¬æ¢**
4. **ä¸‹è½½FLACæ–‡ä»¶**

æˆ–è€…

**å®‰è£…æˆç†Ÿçš„è½¬æ¢å·¥å…·**:
```bash
pip3 install ncm-dump
ncm-dump -i /home/ubuntu/music_test/æ¢“æ¸\ -\ è¤ç«æ˜Ÿçƒ.ncm -o /home/ubuntu/music_test/æ¢“æ¸\ -\ è¤ç«æ˜Ÿçƒ.flac
```

---

**æµ‹è¯•æ–‡ä»¶ä½ç½®**: `/home/ubuntu/music_test/æ¢“æ¸ - è¤ç«æ˜Ÿçƒ.ncm`

**æœ€åæ›´æ–°**: 2026-02-14 18:35
